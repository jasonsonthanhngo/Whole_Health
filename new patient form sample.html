<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whole Health Infusion Clinic - Patient Information</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        .logo {
            text-align: center;
            margin-bottom: 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        .warning {
            color: #d63031;
            margin-bottom: 20px;
            font-size: 0.9em;
        }
        .section-header {
            background-color: #000;
            color: white;
            padding: 8px;
            margin: 20px 0 10px 0;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input[type="text"],
        input[type="tel"],
        input[type="date"],
        input[type="email"] {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .checkbox-group {
            margin: 10px 0;
        }
        button {
            background-color: #2d3436;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #636e72;
        }
        #response {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="logo">
        <img src="logo.png" alt="Whole Health Infusion Clinic Logo">
    </div>
    <div class="header">
        <h1>Whole Health Infusion Clinic</h1>
        <h2>Patient Information</h2>
    </div>
    <div class="warning">
        Please complete the following form as accurately as you are able. Inaccurate and/or incomplete information can delay our ability to authorize your treatments, obtain referrals, and file your insurance claims for payment resulting in possible delays in your treatment.
    </div>
    
    <form id="patientInfoForm">
        <div class="section-header">PATIENT INFORMATION</div>
        <div class="form-row">
            <div class="form-group">
                <label for="lastName">Last Name:</label>
                <input type="text" id="lastName" name="lastName" required>
            </div>
            <div class="form-group">
                <label for="firstName">First Name:</label>
                <input type="text" id="firstName" name="firstName" required>
            </div>
            <div class="form-group">
                <label for="mi">MI:</label>
                <input type="text" id="mi" name="mi">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="dob">DOB:</label>
                <input type="date" id="dob" name="dob" required>
            </div>
            <div class="form-group">
                <label>Gender:</label>
                <div class="checkbox-group">
                    <input type="radio" id="female" name="gender" value="female">
                    <label for="female">Female</label>
                    <input type="radio" id="male" name="gender" value="male">
                    <label for="male">Male</label>
                </div>
            </div>
            <div class="form-group">
                <label for="ssn">SSN:</label>
                <input type="text" id="ssn" name="ssn" required>
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="phoneNumber">Phone Number:</label>
                <input type="tel" id="phoneNumber" name="phoneNumber" required>
            </div>
            <div class="form-group">
                <label for="altPhoneNumber">Alternate Phone Number:</label>
                <input type="tel" id="altPhoneNumber" name="altPhoneNumber">
            </div>
        </div>

        <div class="form-group">
            <label for="address">Address:</label>
            <input type="text" id="address" name="address" required>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="allergies">Allergies:</label>
                <input type="text" id="allergies" name="allergies">
            </div>
            <div class="form-group">
                <label for="preferredLanguage">Preferred Language:</label>
                <input type="text" id="preferredLanguage" name="preferredLanguage">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="emergencyContact">Emergency Contact:</label>
                <input type="text" id="emergencyContact" name="emergencyContact" required>
            </div>
            <div class="form-group">
                <label for="emergencyPhone">Emergency Contact Phone:</label>
                <input type="tel" id="emergencyPhone" name="emergencyPhone" required>
            </div>
        </div>

        <div class="form-group">
            <label>Advance Directive Status:</label>
            <div class="checkbox-group">
                <input type="checkbox" id="noDirective" name="advanceDirective" value="noDirective">
                <label for="noDirective">No Directive</label>
                <input type="checkbox" id="hasLivingWill" name="advanceDirective" value="hasLivingWill">
                <label for="hasLivingWill">Has Living Will</label>
                <input type="checkbox" id="healthcarePOA" name="advanceDirective" value="healthcarePOA">
                <label for="healthcarePOA">Healthcare POA</label>
            </div>
        </div>

        <div class="section-header">PHYSICIAN INFORMATION</div>
        <div class="form-group">
            <label for="referringPhysician">Referring Physician whom referred you to our infusion:</label>
            <input type="text" id="referringPhysician" name="referringPhysician" required>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="primaryCarePhysician">Primary Care Physician:</label>
                <input type="text" id="primaryCarePhysician" name="primaryCarePhysician" required>
            </div>
            <div class="form-group">
                <label for="physicianPhone">Phone:</label>
                <input type="tel" id="physicianPhone" name="physicianPhone">
            </div>
            <div class="form-group">
                <label for="physicianFax">Fax:</label>
                <input type="tel" id="physicianFax" name="physicianFax">
            </div>
        </div>

        <div class="section-header">PRIMARY INSURANCE INFORMATION</div>
        <!-- Primary Insurance Section -->
        <div class="insurance-section">
            <div class="form-row">
                <div class="form-group">
                    <label for="primaryInsuranceName">Insurance Name:</label>
                    <input type="text" id="primaryInsuranceName" name="primaryInsuranceName" required>
                </div>
                <div class="form-group">
                    <label for="primaryInsurancePhone">Phone:</label>
                    <input type="tel" id="primaryInsurancePhone" name="primaryInsurancePhone">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="primaryPolicyId">Policy ID#:</label>
                    <input type="text" id="primaryPolicyId" name="primaryPolicyId" required>
                </div>
                <div class="form-group">
                    <label for="primaryGroupNumber">Group #:</label>
                    <input type="text" id="primaryGroupNumber" name="primaryGroupNumber">
                </div>
            </div>
            <div class="form-group">
                <label>Is the policy holder the same as the patient?</label>
                <div class="checkbox-group">
                    <input type="radio" id="primarySameYes" name="primarySameAsPatient" value="yes">
                    <label for="primarySameYes">Yes</label>
                    <input type="radio" id="primarySameNo" name="primarySameAsPatient" value="no">
                    <label for="primarySameNo">No</label>
                </div>
            </div>
            <div id="primaryPolicyHolderInfo" style="display: none;">
                <div class="form-row">
                    <div class="form-group">
                        <label for="primaryPolicyHolder">Policy Holder:</label>
                        <input type="text" id="primaryPolicyHolder" name="primaryPolicyHolder">
                    </div>
                    <div class="form-group">
                        <label for="primaryPolicyHolderDOB">DOB:</label>
                        <input type="date" id="primaryPolicyHolderDOB" name="primaryPolicyHolderDOB">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="primaryPolicyHolderSSN">SSN:</label>
                        <input type="text" id="primaryPolicyHolderSSN" name="primaryPolicyHolderSSN">
                    </div>
                    <div class="form-group">
                        <label for="primaryRelationToPatient">Relation to patient:</label>
                        <input type="text" id="primaryRelationToPatient" name="primaryRelationToPatient">
                    </div>
                </div>
            </div>
        </div>

        <!-- Similar sections for Secondary and Tertiary Insurance -->
        <div class="section-header">SECONDARY INSURANCE INFORMATION</div>
        <!-- Secondary Insurance Section (similar structure to primary) -->

        <div class="section-header">TERTIARY INSURANCE INFORMATION</div>
        <!-- Tertiary Insurance Section (similar structure to primary) -->

        <button type="submit">Submit Information</button>
    </form>

    <div id="response"></div>

    <script>
        // Show/hide policy holder info based on radio selection
        document.querySelectorAll('input[name="primarySameAsPatient"]').forEach(radio => {
            radio.addEventListener('change', (e) => {
                const policyHolderInfo = document.getElementById('primaryPolicyHolderInfo');
                policyHolderInfo.style.display = e.target.value === 'no' ? 'block' : 'none';
            });
        });

        document.getElementById('patientInfoForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // Replace this URL with your n8n webhook URL
            const webhookUrl = 'YOUR_N8N_WEBHOOK_URL';
            
            // Get form data
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            
            try {
                const response = await fetch(webhookUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data)
                });
                
                const result = await response.text();
                
                // Display the response
                const responseDiv = document.getElementById('response');
                responseDiv.style.display = 'block';
                responseDiv.innerHTML = result;
            } catch (error) {
                console.error('Error:', error);
                alert('An error occurred while submitting the form.');
            }
        });
    </script>
</body>
</html>